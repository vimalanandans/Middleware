buildscript {
    repositories {
        mavenCentral()
        jcenter {
            url "http://jcenter.bintray.com/"
        }
    }
    ext {
        androidGradleToolsVersion = "2.2.0"
        androidBuildToolsVersion = "24.0.2"
        androidSupportLibraryVersion = "24.2.1"
        androidCompileSdkVersion = "24"
        androidMinSdkVersion = "16"
        androidTargetSdkVersion = "24"
        androidVersionCode = "1"
        androidVersionName = "1.0"
    }
    dependencies {
        classpath "com.android.tools.build:gradle:${project.androidGradleToolsVersion}"
        classpath(group: 'org.jfrog.buildinfo', name: 'build-info-extractor-gradle', version: '4.1.0')
        classpath 'nl.javadude.gradle.plugins:license-gradle-plugin:0.10.0'
    }
}
allprojects {
    apply plugin: 'idea'
    apply plugin: 'maven'
    apply plugin: 'distribution'
    apply plugin: 'license'
    group = 'com.bezirk'
    version = "3.0.1-snapshot"

    ext {
        artifactRepoBase = "https://bezirk.artifactoryonline.com/bezirk"
    }

    repositories {
        mavenLocal()
        mavenCentral()
        maven {
            url "${artifactRepoBase}/libs-release-local/"
        }
    }

    tasks.withType(JavaCompile) {
        sourceCompatibility = "1.7"
        targetCompatibility = "1.7"
    }
    license {
        header rootProject.file('LICENSE')
        include "**/*.java"
        excludes(["**/*.properties", "**/*Test.java", "**/package-info.java"])
        strictCheck true
        ignoreFailures false
    }
}

//Copy files into a zipped distribution
distributions {
    main {
        contents {
            from {
                'build/dist'
            }
            into '/'
        }
    }
}