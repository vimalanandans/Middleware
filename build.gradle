/**
 * Global project version change history
 * Currently the project alpha version is incremented every time there is a change in any of the middleware artifact to maintain consistency.
 * 3.0.0-alpha+001 development mode enabled for CMU Iot group (Rishabh)
 * 3.0.0-alpha+002 added policy classes for protocols-penguin (Rishabh)
 * 3.0.0-alpha+003 PreferencesAPI implementation for using sphere configuration (Rishabh)
 * 3.0.0-alpha+004 Removing use of comms.properties & upadevice.properties (Rishabh)
 * 3.0.0-alpha+005 Changing sphere key lengths to prevent adding Unlimited Strength Jurisdiction Policy (Rishabh)
 * 3.0.0-alpha+006 Logging enable/disable using jvm/system property, removing Factory.getInstance(BezirkConfig) (Rishabh)
 * 3.0.0-alpha+007 Enabling development sphere by default and removing system.out.println for evasive events in zyre (Rishabh)
 * 3.0.0-alpha+008 Displaying ethernet configuration for multiple interfaces, issue #77 (Rishabh)
 * 3.0.0-alpha+009 Freezing major api changes & Nits before Mexico Hackathon. (Michael/Rishabh)
 * 3.0.0-alpha+010 Bug with android proxy and unwanted swing thread in java. (Michael/Rishabh)
 * 3.0.0-alpha+011 Fixes issue #91 (first event duplication)(Rishabh)
 * 3.0.0-alpha+012 Changing text display for issue #59 (bezirk ethernet configuration), testApp Pub/Sub testing through different applications until 2-zirk registration issue is resolved (Rishabh)
 * 3.0.0-alpha+013 bezrik -> bezirk for network-util package fix (Rishabh)
 * 3.0.0-alpha+014 android send/receive messages, serialization-deserialization & bug fixes for UI (Rishabh)
 * 3.0.0-alpha+015 Bezirk-Java: issue #98 and #97, issue with loading features.properties and failre to startup Bezirk-PC
 *
 * 3.0.0-alpha-mvp+001 alpha mvp for internal testing with fixed API nits
 * 3.0.0-alpha-mvp+002 java-android tested zirks for mvp working
 * 3.0.0-alpha-mvp+003 cleaned up android stack version(all happy paths working)
 * 3.0.0-alpha-mvp+004 ethernet pop-up text change, android 4.4 - 6.0 compatible.
 * 3.0.0-alpha-mvp+005 lifecycle manager state transitions, proxy client change for java, comms notification null check,
 *                     testapp for java with 2 zirks together, tested with publisher-zirk-android, subscriber-zirk-android, testapp, java-8 lambda fix.
 * 3.0.0-alpha-mvp+006 sticky bezirk service, start/stop lifecycle handling for comms, cleanup comms message,
 *                      increment comms version, upgrade gson, zxing libraries, cleanup info traces
 * 3.0.0-alpha-mvp+007 logging enabled/disabled, setGsonBuilder for Message, logback log message suppressing and more ...
 * 3.0.0-alpha-mvp+008 logback filter removed
 * 3.0.0-alpha-mvp+009 zyre NativeUtils library fetching fix without path setting
 * 3.0.0-alpha-mvp+010 testing new publishing strategy for proxy
 * 3.0.0-alpha-mvp+011 fixed resolution of artifacts from a single dependency
 * 3.0.0-alpha-mvp+012 Android proxy without Identity Management
 *
 * 3.0.0-alpha+016 Merge of MVP changes to master
 * 3.0.0-alpha+017 Packaging name changes for android, java and core modules. BezirkMiddleware new api features.
 * 3.0.0-alpha+018 removing unnecessary resources from android projects. Should fix duplicate ic_launcher issue when using bezirk aar in android.
 * 3.0.0-alpha+019 cleaning lintOptions in android projects. Should fix InvalidPackage lint issue for zirk developers using android aar.
 * 3.0.0-alpha+020 jp2p usage of comms for android. Used for party.
 * 3.0.0-alpha+021 https://github.com/Bezirk-Bosch/Middleware/milestone/3
 * 3.0.0-alpha+022 https://github.com/Bezirk-Bosch/Middleware/milestone/5
 * 3.0.0-alpha+023 https://github.com/Bezirk-Bosch/Middleware/milestone/4
 * 3.0.0-alpha+024 https://github.com/Bezirk-Bosch/Middleware/milestone/6
 * 3.0.0-alpha+025-snapshot fixes multiple issues in milestone1
 * 3.0.0-alpha+025-snapshot-1 fixes multiple issues in milestone1, testing alpha+025 release.
 * 3.0.0-alpha+025-snapshot-2 fixes multiple issues in milestone1, testing alpha+025 release.
 */
buildscript {
    repositories {
        mavenCentral()
        jcenter {
            url "http://jcenter.bintray.com/"
        }//used for jfrog
    }
    ext {
        androidGradleToolsVersion = "2.1.0"
        androidBuildToolsVersion = "24.0.2"
        androidSupportLibraryVersion = "24.2.1"
        androidCompileSdkVersion = "24"
        androidMinSdkVersion = "16"
        androidTargetSdkVersion = "24"
        androidVersionCode = "1"
        androidVersionName = "1.0"
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:2.2.0'
        classpath(group: 'org.jfrog.buildinfo', name: 'build-info-extractor-gradle', version: '4.1.0')
//        Gradle 1.x/2.0, gradle-license-plugin 0.10.0 (and earlier)
        classpath 'nl.javadude.gradle.plugins:license-gradle-plugin:0.10.0'
    }
}
allprojects {
    apply plugin: 'idea'
    apply plugin: 'maven'
    apply plugin: 'distribution'
//    This plugin will scan and adapt your source files to include a provided header, e.g. a LICENSE file
    //apply plugin: 'license'
    group = 'com.bezirk'
    version = "3.0.0-alpha+025-snapshot-2"

    ext {
        artifactRepoBase = "https://bezirk.artifactoryonline.com/bezirk"
    }

    repositories {
        mavenLocal()
        mavenCentral()
        maven {
            url "${artifactRepoBase}/libs-release-local/"
        }
    }

    tasks.withType(JavaCompile) {
        sourceCompatibility = "1.7"
        targetCompatibility = "1.7"
    }
//    A license extension is added to the project, which can be used to configure all license tasks
//    license {
//        header rootProject.file('LICENSE')
//        includes(["**/*.java", "**/*Test.java"])
//        exclude "**/*.properties"
//        strictCheck true
//    }
}

/*
 * ---------------------------------------------------------------
 * Copy from files staged to dist/ into the Middleware/build/distributions/Middleware-3.0.0-alpha+022.zip file
 * ---------------------------------------------------------------
 */

/** Copy needed files into zipped distribution */
distributions {
    main {
        contents {
            from {
                'build/dist'
            }
			into '/'
        }
    }
}