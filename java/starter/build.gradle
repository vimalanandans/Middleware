apply plugin: 'java'
dependencies {
    compile project(':core:bezirk-middleware-api')
    compile project(':core:bezirk')
    compile project(':core:control-messages')
    compile project(':core:commons')
    compile project(':core:identity-management')
    compile project(':core:sphere')
    compile project(':core:data-storage')
    compile project(':core:streaming')
    compile project(':core:remote-logging')

    //pure java comms
    compile project(':core:comms:comms-jmq')

    //jni comms
    //compile project(':java:libraries:comms-zyre-jni')

    compile 'org.apache.shiro:shiro-core:1.2.4'
    compile 'ch.qos.logback:logback-classic:1.1.3'
    compile 'ch.qos.logback:logback-core:1.1.3'
    compile 'com.google.zxing:core:3.2.1'
    compile 'com.google.code.gson:gson:2.7'
    compile 'org.xerial:sqlite-jdbc:3.7.2'

    testCompile 'junit:junit:4.12'
    testCompile 'org.mockito:mockito-all:1.10.19'
}

task deleteDb(type: Delete) {
    delete 'mw_database.sqlite'
}

clean.dependsOn deleteDb
//test.dependsOn deleteDb

task copyTestResources(type: Copy) {
    from "${projectDir}/src/test/resources"
    into "${buildDir}/classes/test"
}
processTestResources.dependsOn copyTestResources
