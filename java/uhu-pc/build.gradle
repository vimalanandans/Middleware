// Allow private data members to be linked in javadocs
//javadoc.options.addStringOption("private")
apply plugin: 'java'
dependencies {

    if (project.local == "false") {
        compile "com.bezirk:bezirk-api:${version}"
        compile "com.bosch.upa.uhu:uhu-API-impl:${version}"
        compile "com.bosch.upa.uhu:uhu-control-messages:${version}"
        compile "com.bosch.upa.uhu:commons:${version}"
        compile "com.bosch.upa.uhu:comms-udp:${version}"
        compile "com.bosch.upa.uhu:comms-jyre:${version}"
        compile "com.bosch.upa.uhu:comms-factory:${version}"
        compile "com.bosch.upa.uhu:pipes:${version}"
    } else {
        compile project(':core:bezirk-api')
        compile project(':core:uhu:uhu-API-impl')
        compile project(':core:uhu:uhu-control-messages')
        compile project(':core:uhu:commons')
        compile project(':core:uhu:comms:comms-udp')
        compile project(':core:uhu:comms:comms-jyre')
        compile project(':core:uhu:comms:comms-factory')
        compile project(':core:uhu:pipes')
    }

    compile project(':java:libraries:comms-zyre-jni')

    // Enable this to include Uhu-RTC
    //	compile project(':uhu-pc-rtc')

    // external deps
    compile 'org.apache.shiro:shiro-core:1.2.4'
    compile 'ch.qos.logback:logback-classic:1.1.2'
    compile 'ch.qos.logback:logback-core:1.1.2'
    compile 'com.google.zxing:core:2.3.0'
    compile 'com.google.code.gson:gson:2.2.4'
    compile 'org.xerial:sqlite-jdbc:3.7.2'
    compile 'org.springframework:spring-context:4.1.4.RELEASE'

    // test deps
    testCompile 'junit:junit:4.11'
    testCompile 'org.mockito:mockito-all:1.10.19'
}

test {
    exclude 'com/bosch/upa/uhu/network/test/**'
}

task deleteDb(type: Delete) {
    //println 'Deleting db - uhu_spheres.sqlite'
    delete 'uhu_spheres.sqlite'
}

clean.dependsOn deleteDb
//test.dependsOn deleteDb

/*
jar  {
	// Don't include logging config in the jar
	exclude('logback.xml')
}
*/
