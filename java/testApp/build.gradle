apply plugin: 'application'

mainClassName = "com.bezirk.middleware.java.Main"

dependencies {
    compile project(':java:libraries:java-zirk-proxy')

    testCompile 'junit:junit:4.12'
}

run {
    standardInput = System.in
    /**
     * Pass all the system properties to the JVM process spawned for running this application
     * @see <a href="https://docs.gradle.org/current/userguide/application_plugin.html#N15E7">gradle application plugin</a>
     *
     * Required for passing configurations like "displayEnabled" to bezirk while running the application.
     * Ex. gradlew -DdisplayEnabled=true run
     */
    systemProperties System.getProperties()
}
jar.baseName = 'test-sending-receiving'
jar.version = ''
//creates a executable jar
jar {
    from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'
    manifest {
        attributes 'Main-Class': 'com.bezirk.middleware.java.Main'
    }
}