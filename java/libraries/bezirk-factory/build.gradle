apply plugin: 'java'

dependencies {
/*    if (project.local == "false") {

        compile "com.bezirk:bezirk-api:${version}"
        compile "com.bezirk:bezirk:${version}"
        compile "com.bezirk:commons:${version}"
    } else {
*/      compile project(':core:bezirk-api')
        compile project(':core:bezirk')
        compile project(':core:commons')
  //  }
    compile project(':java:starter')
    testCompile 'junit:junit:4.11'
}

jar {
    manifest {
        attributes 'Implementation-Title': 'bezirk-factory', 'Implementation-Version': version
    }
}

task copyRes(type: Copy) {
    from "$rootDir/uhu-pc/src/main/resources/"
    into 'src/test/resources'
}

test.dependsOn copyRes

task deleteFactoryRes(type: Delete) {
    delete fileTree(dir: 'src/test/resources/', exclude: "streamingTestFile.txt")
    delete fileTree(dir: 'build/resources/test/', exclude: "streamingTestFile.txt")
}

test.finalizedBy(deleteFactoryRes)
